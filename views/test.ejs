<% include partials/header %>


<script type="text/javascript">
function loadXMLDoc(url) {
    var xmlhttp = new XMLHttpRequest();

    xmlhttp.onreadystatechange = function() {
        if (xmlhttp.readyState == XMLHttpRequest.DONE ) {
           if (xmlhttp.status == 200) {
             var newsData = JSON.parse(xmlhttp.responseText);
            //  console.log(newsData);
            //  console.log(newsData.articles);
            console.log(newsData.result.docs);
            // newsData.articles.forEach(function(article){
            //    data.push(article);
            //  });
           }
           else if (xmlhttp.status == 400) {
              alert('There was an error 400');
           }
           else {
               alert('something else other than 200 was returned');
           }
        }
    };

    xmlhttp.open("GET", url, true);
    xmlhttp.send();
}

loadXMLDoc('https://gateway-a.watsonplatform.net/calls/data/GetNews?outputMode=json&start=now-1d&end=now&count=5&q.enriched.url.title=obama&return=enriched.url.url,enriched.url.title,enriched.url.text&apikey=6c164f0588efeac988da699f5dbc55868d85a565');
</script>
<% include partials/footer %>
