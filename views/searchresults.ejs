<% include partials/header %>
<% var keyword = keyword ; %>
<% var url = url; %>

<div class="container center-align">
  <h2 class="center orange-text">How People Feel About <%= keyword %></h2>
  <canvas id="myChart"></canvas>
</div>

<div class="container center-align">
  <h2 class="center light-blue-text">
    <i class="tiny material-icons">star</i>
    <i class="tiny material-icons">star</i>
    <i class="tiny material-icons">star</i>
    <i class="tiny material-icons">star</i>
    <i class="tiny material-icons">star</i>
  </h2>
</div>

<script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js'></script>

<script>

var emotionObj = <%- JSON.stringify(emotionObj) %>;
var keyword = <%- JSON.stringify(keyword) %>;
var url = <%- JSON.stringify(url) %>;

var labels = [];
var data = [];

for( var key in emotionObj){
  labels.push(key);
  data.push(emotionObj[key]);
}
var ctx = document.getElementById("myChart");
var myChart = new Chart(ctx, {
  type: 'bar',
  data: {
    labels: labels,
    datasets: [{
      label: '# of Votes',
      data: data,
      backgroundColor: [
        'rgba(255, 99, 132, 0.2)',
        'rgba(54, 162, 235, 0.2)',
        'rgba(255, 206, 86, 0.2)',
        'rgba(75, 192, 192, 0.2)',
        'rgba(153, 102, 255, 0.2)',
        'rgba(255, 159, 64, 0.2)'
      ],
      borderColor: [
        'rgba(255,99,132,1)',
        'rgba(54, 162, 235, 1)',
        'rgba(255, 206, 86, 1)',
        'rgba(75, 192, 192, 1)',
        'rgba(153, 102, 255, 1)',
        'rgba(255, 159, 64, 1)'
      ],
      borderWidth: 1
    }]
  }
});
// localStorage.setItem('data', JSON.stringify({
//   "status": "OK",
//   "usage": "By accessing AlchemyAPI or using information generated by AlchemyAPI, you are agreeing to be bound by the AlchemyAPI Terms of Use: http://www.alchemyapi.com/company/terms.html",
//   "totalTransactions": "63",
//   "result": {
//     "docs": [
//       {
//         "id": "MTQyMTg1MTN8MTQ4NDYxMTIwMA",
//         "source": {
//           "enriched": {
//             "url": {
//               "text": "After a couple of years as director of group architecture at Capita, Dan Warren, who led projects like Voice over LTE (VoLTE) and Wi-Fi calling while serving as senior director of technology at the GSMA, is heading over to Samsung R&D Institute in the United Kingdom as head of 5G Research. Warren revealed the move via Twitter last week.  \nSamsung has R&D institutes scattered around the world, and this one near London is among those involved in standards setting, among other things, with involvement in groups like 3GPP. He will report to Howard Benn, head of Standards and Industrial Affairs at Samsung Electronics Research Institute in the U.K.\nIn an interview with FierceWirelessTech before his official start date on Jan. 23, Warren said the thing about standards is everybody wants standards to work faster, but the nature of the work is not fast: At the end of the day, many stakeholders have to establish a technical definition that everybody can agree on and that’s beneficial for the broader industry. ...",
//               "title": "Former GSMA VoLTE program director heads to Samsung R&D center | FierceWireless",
//               "url": "http://www.fiercewireless.com/node/321431"
//             }
//           }
//         },
//         "timestamp": 1484611200
//       },
//       {
//         "id": "MTUyNjg0OHwxNDg0NjExMjAw",
//         "source": {
//           "enriched": {
//             "url": {
//               "text": "    There’s no great time to break bad news, of course, but your two best shots are either when no one is looking or when you’ve got enough good news to offset the bad. The former is known as the Friday news dump in political circles; all the bad news suddenly appears while everyone is more consumed with the important task of getting ready for the weekend. ...",
//               "title": "When will Samsung release its Note 7 investigation findings?",
//               "url": "https://techcrunch.com/2017/01/17/note-7-2/?ncid=rss&utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+Techcrunch+%28TechCrunch%29"
//             }
//           }
//         },
//         "timestamp": 1484611200
//       },
//       {
//         "id": "NTQ1NjcxMjc5NnwxNDg0NTMxODYy",
//         "source": {
//           "enriched": {
//             "url": {
//               "text": "South Korea's special prosecutor is due to decide whether to seek an arrest warrant for Samsung chief Lee Jae-yong. Mr Lee is a suspect in a corruption scandal surrounding South Korea's impeached President Park Geung-hye. ...",
//               "title": "S Korea corruption: Court to decide on Samsung chief arrest - BBC News",
//               "url": "http://www.bbc.co.uk/news/business-38633132"
//             }
//           }
//         },
//         "timestamp": 1484531862
//       },
//       {
//         "id": "NTQ1MTcwMDM2NHwxNDg0NTMxNzU1",
//         "source": {
//           "enriched": {
//             "url": {
//               "text": "SEOUL Jan 16 Tech giant Samsung Electronics Co Ltd will announce the results of its investigation on what caused some Galaxy Note 7 smartphones to catch on fire on January 23, South Korea's Yonhap News Agency reported on Monday citing unnamed sources. Samsung in October ended sales of the near-$900 Note 7 smartphones in what is one of the biggest product safety failures in tech history. ...",
//               "title": "Samsung Elec to disclose Note 7 probe results on Jan 23 -Yonhap",
//               "url": "http://www.reuters.com/article/samsung-elec-smartphones-idUSS6N1CU01H?feedType=RSS&feedName=industrialsSector"
//             }
//           }
//         },
//         "timestamp": 1484531755
//       },
//       {
//         "id": "NTQ1NTQ4MzY0OHwxNDg0NTMxNDU4",
//         "source": {
//           "enriched": {
//             "url": {
//               "text": "South Korea's special prosecutor is due to decide whether to seek an arrest warrant for Samsung chief Lee Jae-yong. Mr Lee is a suspect in a corruption scandal surrounding South Korea's impeached President Park Geung-hye. ...",
//               "title": "S Korea corruption: Court to decide on Samsung chief arrest - BBC News",
//               "url": "http://www.bbc.com/news/business-38633132"
//             }
//           }
//         },
//         "timestamp": 1484531458
//       }
//     ],
//     "next": "MzkxODI4NjM0NDI5ODM0Mjk0NXx8NzU0NjM1MzAxNTk2NjcwNDUwM3xOVFExTlRRNE16WTBPSHd4TkRnME5UTXhORFU0fDEzMDg1NDY3MTY5MDQwNjA5NTc2fHwxMzc1NjgwMzc4ODAxMTA5NTM5M3xOVFExTVRjd01ETTJOSHd4TkRnME5UTXhOelUx",
//     "status": "OK"
//   }
// }));
</script>

<% include partials/news %>
<% include partials/footer %>
